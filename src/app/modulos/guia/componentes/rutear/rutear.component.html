<nb-card>
  <nb-card-header class="d-flex justify-content-between align-items-center">
    <span>Rutear</span>
    <div class="d-flex">
      <button
        nbButton
        status="primary"
        size="small"
        (click)="rutear()"
        class="spaced-button"
      >
        Rutear
      </button>
    </div>
  </nb-card-header>
  <nb-card-body class="nb-card-body-full-height">
    <div class="row">
      <!-- Columna izquierda con Flota y Visitas -->
      <div class="col-xxxl-3 col-xxl-4 col-md-5">
        <!-- Flota Card -->
        <nb-card size="small">
          <nb-card-header>Flota</nb-card-header>
          <nb-list>
            <nb-list-item *ngFor="let vehiculo of arrVehiculos">
              <span>{{ vehiculo.placa }}</span>
            </nb-list-item>
          </nb-list>
        </nb-card>

        <!-- Visitas Card -->
        <nb-card class="mt-3" size="small">
          <nb-card-header class="d-flex justify-content-between align-items-center">
            <span>Visita</span>
            <div class="d-flex">
              <button
                nbButton
                status="primary"
                size="small"
                (click)="ordenar()"
                class="spaced-button"
              >
                Ordenar
              </button>
            </div>
          </nb-card-header>
          <nb-list>
            <nb-list-item *ngFor="let visita of arrVisitas">
              <span>{{ visita.guia }}</span>
            </nb-list-item>
          </nb-list>
        </nb-card>
      </div>

      <!-- Columna derecha con Mapa -->
      <div class="col-xxxl-9 col-xxl-8 col-md-7 map-container">
        <nb-card class="full-height full-width">
          <nb-card-header>Mapa</nb-card-header>
          <nb-card-body class="full-height full-width">
            <google-map
              height="100%"
              width="100%"
              [center]="center"
              [zoom]="zoom"
            >
              <map-marker
                *ngFor="let markerPosition of marcarPosicionesVisitasOrdenadas"
                (mapClick)="openInfoWindow(marker)"
              >
              </map-marker>
              <map-info-window>Info Window</map-info-window>
              <map-directions-renderer
                *ngIf="directionsResults"
                [directions]="directionsResults"
              ></map-directions-renderer>
            </google-map>
          </nb-card-body>
        </nb-card>
      </div>
    </div>
  </nb-card-body>
</nb-card>
